% -*- coding: utf-8 -*-

\section{Results}
\label{results}
\subsection{Introduction}
In this section I will discuss the results of the project.

\subsection{Implemented features}
I have successfully implemented the RSS data-structure as well as its dependent class, a rectangle in 3D. 

Furthermore I have implemented

\subsection{Comparisons}

In order to estimate whether my implementation was successful or not, I have tried to compare it with several other implementations - namely LSS' and OBBs. The parameters for comparison have been their volume and the runtime required to check whether 2 BV are separate or not.

\subsubsection{Generation of tests results}
All of the test results have been made by generating 2 arrays of
1000 random sets of points each - with 25 points in each set. I
maintain 2 arrays for each type of BV I create, with the intention of
checking each element from the first array against all elements in the
second array. This is done in order to ensure
that in practice the BV is never checked againts itself, and also so
that I am quickly able to create large number of tests, without having
to use too much system memory. \\ 

For each point set in each array, I have created a 3 new BV's, one for
each of the types OBB, LSS, and RSS. Each BV contains the all points
in the pointset it was created from. Thus I create 2000 (split into 2 arrays of 1000 each)
new BV of each type. \\ 

I perform 2 test: 
\begin{description}
\item[Overlap:] I test the time required to perform the overlap test,
  for all 1.000.000  For the overlap test I test, the time required 

 record the time needed to test
  for overlap between  
\item[Volume:]
\end{description}

All of these tests have been executed on a [my own computer specs].

\subsubsection{Overlap detection}

\begin{figure}
\caption{\label{overlap-OBB_RSS_RSS-No-Min_LSS}Comparison of the time spent for the different algorithms. The RSS-No-Min line shows the time required for the RSS overlap algorithm that only runs the Axis-separation test, without the minimum distance test first}
\end{figure}

\begin{figure}[b]
\input{tableData/allTime.tex}
\caption{\label{overlap-table}The table of the time used for the
  different overlaps checks. All of the times are in seconds. The
  check reading ``RSS no-min'' is a RSS overlap check that is only run
with the axis separation test, and no minimum distance check first}
\end{figure}

As it is clear from both figure \ref{overlap-OBB_RSS_RSS-No-Min_LSS} and table \ref{overlap-table}, the current implementation of the current version of the RSS overlap algorithm is clearly slower than both the one implemented for the OBBs, and the LSS. 

This can partly be explained by the fact that due to time constraints
little optimizations have been performed for the overlap method for
RSS. However, the time gap seems  insurmountable, and future optimizations are likely to bring the time required for RSS' to check for overlap closer, and perhaps even under, the time required for the OBB's.

\subsubsection{Volume}

\begin{figure}[b]
\input{tableData/volumes.tex}
\caption{\label{volume-table} The average volume needed by the
  different BV to contain the points. The first row of values are the average
  volumes for each of the 2000 different BV that are produced, while
  the second row of values are the average volumes of the 1.000.000
  different combinations of BV's.}
\end{figure}

\subsubsection{Problems with the current tests}
\label{test_problems}
Due to time constraints I have not been able to implement the RSS into the BVH, and hence all tests have been done on random generated points. It is therefore likely that in most of the cases there will not be an overlap, and therefore overlap tests that are fast when 2 BV's are disjoint will perform better than algorithms that are fast when the 2 BV's are not disjoint (such as the overlap check for the RSS). Since overlaps are more likely to occur in practice \Sfixme{Can I justify this?}, this gives the algorithm I have implemented a clear disadvantage compared to OBB's.

It is worth mentioning, that as implemented, OBB's and RSS' both uses the Axis separation test, but as mentioned in \ref{intersection}, RSS first checks the minimum distance between the two RSS' is less than their combined radii. So it is clear that in the worst case, the RSS overlap check has to do more work than the worst case overlap test for OBB's, namely the minimum distance check. It is therefore clear that if the overall time spent on the RSS overlap test has to be less than the time spent on the OBB overlap test, then this advantage has to come from a tighter volume fit, in favor of the RSS. 

Furthermore, as described in \ref{implementation_axis_sep}, given 2 RSS' A and B, I have not made the axis go through A (which in practice would mean that I would have had to find the transformation of A so that it became axis-parallel, and then transformed B so with the same transformation) \Sfixme{Better explanation or remove entirely?}. Since all OBB's in ProGAL are axis oriented, this is trivially true for the axis-separation test, with all the possible optimizations that enables.
